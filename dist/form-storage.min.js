/*!
 * form-storage - Library to store content from forms in localStorage so if browser is refreshed or back button is hit, the data is saved and restored.
 * v0.1.0
 * https://github.com/jgallen23/form-storage
 * copyright Greg Allen 2013
 * MIT License
*/
(function(t){t.declare("formStorage",{init:function(){return this.supportsLocalstorage()?(this.id=this.el.data("formstorage-id"),this.data=this.getData(),this.restore(),this.el.on("blur change","input, textarea, select",this.proxy(this.save)),void 0):!1},supportsLocalstorage:function(){return!!window.localStorage},getId:function(){return this.id},getData:function(){return JSON.parse(window.localStorage[this.id]||"[]")},save:function(){this.data=this.el.serializeArray(),window.localStorage[this.id]=JSON.stringify(this.data),this.el.trigger("formStorageSave")},restore:function(){if(this.data.length){var t,a,e=this.data.length,i={};for(t=0;e>t;t++)a=this.data[t],i[a.name]?i[a.name].push(a.value):i[a.name]=[a.value];for(t in i)a=i[t],this.el.find('[name="'+t+'"]').val(a)}}})})(jQuery);